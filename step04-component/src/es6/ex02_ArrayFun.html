<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <h3>Array 관련 함수 </h3>
  <script>
    const arr1 =[1,2,3];
    const students =[
	 {name:"A", age:20 , state:true , score:89},
	 {name:"B", age:29 , state:true , score:17},
	 {name:"C", age:22 , state:false , score:90},
	 {name:"D", age:21 , state:true , score:45},
	 {name:"E", age:28 , state:false , score:95},
   ];

    //1.  includes() :  인수의 값이 있는지 없는지 결과 boolean
    let re = arr1.includes(20);
    console.log("결과 : " + re);

    //2.indexOf() : 특정 요소의 인덱스를 찾아서 반환하는 메소드  없으면 -1
    re = arr1.indexOf(20);
    console.log("결과 : " + re);
   
    //3. findIndex() : 모든 요소를 순회하면서 콜백함수를 만족하는(즉 콜백의 결과 true 인) 특정요소의
                         //인덱스(위치)를 반환하는 메소드 없으면 -1   
     
     re = arr1.findIndex((ele)=>{
           if(ele===20)return true;
      })  ;
      console.log("결과 : " + re);                   
   
      //students에서 age가 29인 학생의 위치(index)
      re=students.findIndex((student)=> student.age===29);
      console.log("결과 : " + re); 

      //4.find() : 모든 요소를 순회하면서 콜백함수를 만족하는 요소를 찾는데, 요소를 그대로 반환한다.
       //students에서 age가 29인 학생의 정보 찾고 싶다.
      re = students.find((student)=>student.age===29 && student.score>90);
      console.log(re); 

      //5. join() : 배열의 모든 요소를 하나의 문자열로 합쳐서 반환하는 메소드  - 결과 strng
      re = arr1.join("/") //인수가 없으면 기본은 , 이다 
      console.log(re); 

      //6. concat() :  두개의 배열을 하나의 배열로 합친다 - 결과 배열
      const arr2=[4,6,8];
       re = arr1.concat(arr2);
       console.log(re); 
     //7. reverse() : 배열을 뒤집어서 배열로 만들어준다.
      re = re.reverse();
      console.log(re); 

      //8. sort() :  배열을 사전순으로 정렬하는 메소드(숫자의 대소 ) -> ex) a< b : -1   , a > b : 1 , a
      const arr3 =["b","a","f","c"];
      arr3.sort();
      console.log(arr3); 

      const arr4 =[10,5,3,7]; 
      //arr4.sort();
      arr4.sort((a,b)=>{
          return a-b; // 음수   양수   0
      });
      console.log(arr4); 


      //9. toSorted() : 원본배열은 그대로 두고 정렬된 결과를 새로운 배열로 만듦
      const arr5 = ["f","a","e","c"];
      re = arr5.toSorted();
      console.log(arr5); 
      console.log(re); 
      ///////////////////////////////////////////////////////////
//1. 점수가 90점인 학생 정보 - find()
re = students.find((student)=>{
      return student.score>=90;
    });

    console.log(re);

//2.  점수가 90점인 이상인 모든 학생  - filter()
 //filter() : 기존배열에서 조건을 만족하는 요소들만 필터링하여 새로운 배열로 반환
 re = students.filter((student)=>{
      return student.score>=90;
    });

    console.log(re);

//3. 수강중(state-true) 학생들만 골라서 배열로 만들기. - filter()
re = students.filter((student)=> student.state);
console.log(re);

//4.학생 배열에서 점수만 뽑아서 배열로 만들기 - map() 
re = students.map((student)=>student.score);
console.log(re);

//5. 학생들의 모든 점수를 구해서 하나의  string으로 변환(map , join)
re = students.map((student)=>student.score).join(" | ");
console.log("학생들 점수 = " + re);

//6. 학생들의 모든 점수를 배열로 만들어서 50점 이상인 학생들만 뽑아서 
//하나의 string을로 변환(map,filter,join)
re = students
.map((student)=>student.score)
.filter(score=>score>=70)
.join(" / ");
console.log("점수 70 이상 = " + re);

//7.학생들의 점수를 정렬하기. - sort()
re = students
.map((s)=>s.score)
//.sort();
//.sort((a,b)=>a-b); //올림차순( 음수 -b가크다  , 양수 - 크다)
.sort((a,b)=>b-a); 
console.log("점수 정렬 = " + re);

//5.학생 들중에 점수가 50점 보다 낮은 친구 있는지 없는지 체크하기-some()
re = students.some((student)=>{
      return student.score < 5;
 });
 console.log("결과 = " + re);

//6. 모든 학생들의 점수가 80이상인지 체크 -every()
re = students.every((student)=>{
     //console.log(student.score);
     return student.score >=10;
});
console.log("결과 = " + re);

console.log("----------------------------");
//7.학생들의 평균점수를 구하기 - reduce()
 //reduce() : 배열의 각 요소를 순차적으로 처리하면서 하나의 새로운 결과값을 반환 
re = students.reduce((prev, currv)=>{
    console.log(prev );
    console.log(currv);
    console.log("==========");
   
    return  prev + currv.score;
}, 0);

console.log("총점 " + re);
console.log("평균 " + re/students.length);


 </script>  
</body>
</html>